<body>

    <style>
        button {
          padding: 8px 14px;
          margin-right: 6px;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          background: #1e90ff;
          color: white;
        }
        button:hover {
          background: #0b5ed7;
        }
      </style>

    <h1>üéØ Selenium Testing Video Hub</h1>
    <p>Search Selenium automation tutorials</p>
    <div id="categories" style="margin-bottom:15px;">
        <button onclick="loadCategory('selenium testing tutorial')">Basics</button>
        <button onclick="loadCategory('selenium java automation')">Java</button>
        <button onclick="loadCategory('selenium python automation')">Python</button>
        <button onclick="loadCategory('selenium framework tutorial')">Framework</button>
        <button onclick="loadCategory('selenium interview questions')">Interview</button>
      </div>
    
    <input
  type="text"
  id="searchInput"
  placeholder="Search: selenium java, python, testng..."
  onkeyup="debouncedSearch(this.value)"
  style="width:300px;padding:10px;"
/>
    <button onclick="searchVideos()">Search</button>
    
    <br><br>
    
    <div class="grid" id="videos"></div>
    
    <script>
        function loadCategory(keyword) {
  document.getElementById("searchInput").value = keyword;
  loadVideos(keyword);
}
        let debounceTimer = null;
        
        function loadVideos(query = "") {
          const url = query
            ? `/api/videos?q=${encodeURIComponent(query)}`
            : "/api/videos";
        
          fetch(url)
            .then(res => res.json())
            .then(data => {
              const container = document.getElementById("videos");
              container.innerHTML = "";
        
              data.forEach(v => {
                container.innerHTML += `
                  <div class="card">
                    <a href="https://www.youtube.com/watch?v=${v.id.videoId}" target="_blank">
                      <img src="${v.snippet.thumbnails.medium.url}">
                      <h4>${v.snippet.title}</h4>
                    </a>
                    <p>${v.snippet.channelTitle}</p>
                  </div>
                `;
              });
            });
        }
        
        function debouncedSearch(value) {
          clearTimeout(debounceTimer);
        
          debounceTimer = setTimeout(() => {
            if (value.trim().length > 2) {
              loadVideos(value);
            }
          }, 500); // ‚è±Ô∏è wait 500ms after typing stops
        }
        
        // Load default videos on page load
        loadVideos();
        </script>
    
    </body>